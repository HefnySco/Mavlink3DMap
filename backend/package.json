{
  "version": "1.0.0",
  "author": "Mohammad Hefny <mohammad.hefny@gmail.com>",

  "dependencies": {
    "commander": "^14.0.0",
    "jspack": "^0.0.4",
    "underscore": "^1.13.7",
    "ws": "^8.18.3"
  },
  "scripts": {
    "dev:udp": "node ./src/udp2websocket.js",
    "dev:stream": "sh -c 'TARGET_LABEL=SIM-CAM1; DEV=$(grep -l \"^$TARGET_LABEL$\" /sys/class/video4linux/*/name 2>/dev/null | head -n 1 | sed -E \"s#.*/(video[0-9]+)/name#\\1#\"); if [ -z \"$DEV\" ]; then echo \"Error: Device with label $TARGET_LABEL not found in /sys/class/video4linux/*/name\"; exit 1; fi; VIDEO_DEVICE=\"/dev/$DEV\"; node ./src/websocket_streaming.js | ffmpeg -framerate 30 -f image2pipe -vcodec mjpeg -s 940x486 -i - -pix_fmt yuv420p -f v4l2 \"$VIDEO_DEVICE\"'",
    "dev": "npm run dev:udp & npm run dev:stream",
    "start": "npm run dev",
    "build": "echo \"no build step for backend\"",
    "lint": "echo \"no lint configured for backend\""
  }
}
